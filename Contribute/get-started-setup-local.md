---
title: Локальная настройка репозитория Git
description: В этой статье приводятся инструкции по созданию локального репозитория Git, включая создание вилки и клонирование, для участия в разработке документации.
author: jasonwhowell
ms.author: jasonh
manager: kfile
ms.date: 01/18/2018
ms.openlocfilehash: 2ad0de552d481e2460ca0f56570181e33d0a6608
ms.sourcegitcommit: 92aef5ea8bdd692c5c393d5c8f99b9e4f672ef2b
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/19/2018
ms.locfileid: "36238996"
---
# <a name="set-up-git-repository-locally-for-documentation"></a>Локальная настройка репозитория Git для документации

В этой статье описаны действия по настройке репозитория Git на локальном компьютере для разработки документации Майкрософт. Добавлять новые статьи, вносить значительные правки в существующие и изменять графическое оформление можно при помощи локально клонированного репозитория.

Чтобы приступить к работе с документацией, необходимо однократно выполнить следующие действия:
> [!div class="checklist"]
> * определить соответствующий репозиторий;
> * создать вилку репозитория Git в учетной записи GitHub;
> * выбрать локальную папку для клонированных файлов;
> * клонировать репозиторий на локальный компьютер;
> * настроить значение вышестоящего удаленного источника.

> [!IMPORTANT]
> Если вы вносите в статью лишь небольшие изменения, вам *не* нужно выполнять описанные здесь шаги. Вы можете перейти непосредственно к [рабочему процессу по внесению быстрых изменений](index.md#quick-edits-to-existing-documents).
>

## <a name="overview"></a>Общие сведения

Для участия в разработке документации на сайте Майкрософт вы можете локально создавать и редактировать файлы Markdown, клонировав соответствующий репозиторий документации. Чтобы получить разрешения Майкрософт на чтение и запись для соответствующего репозитория, нужно создать его вилку в учетной записи GitHub. Это позволит сохранять предлагаемые изменения. Затем изменения объединяются в центральном общем репозитории, доступном только для чтения, с помощью запросов на вытягивание.

![Треугольник GitHub](./media/git-and-github-initial-setup.png)

Если вы не работали с GitHub, просмотрите приведенное ниже видео, описывающее, как создать вилку и клон репозитория:

>[!VIDEO https://channel9.msdn.com/Blogs/CoolMoose/Git-Repository-Setup/player]

## <a name="determine-the-repository"></a>Определение репозитория

Документация, размещенная на сайте [docs.microsoft.com](https://docs.microsoft.com), находится в нескольких разных репозиториях на [github.com](https://www.github.com).

1. Если вы точно не знаете, какой репозиторий использовать, откройте статью на сайте docs.microsoft.com в своем веб-браузере. Справа над статьей выберите ссылку **Правка** (значок карандаша).

   ![Щелкните "Правка", чтобы определить расположение репозитория и файлов.](media/index/edit-article.png)

2. По этой ссылке вы перейдете к расположению нужного файла Markdown в соответствующем репозитории на сайте github.com. Запишите URL-адрес, чтобы узнать имя репозитория.

   ![URL-адрес, по которому можно определить расположение репозитория](media/public-repo.png)

   Например, для участия в создании документации можно использовать следующие популярные репозитории:
   - Документация по Azure [https://github.com/MicrosoftDocs/azure-docs](https://github.com/MicrosoftDocs/azure-docs)
   - Документация по SQL Server [https://github.com/MicrosoftDocs/sql-docs](https://github.com/MicrosoftDocs/sql-docs)
   - Документация по Visual Studio [https://github.com/MicrosoftDocs/visualstudio-docs](https://github.com/MicrosoftDocs/visualstudio-docs)
   - Документация по .NET [https://github.com/dotnet/docs](https://github.com/dotnet/docs)
   - Документация к пакету Azure SDK для .NET [https://github.com/azure/azure-docs-sdk-dotnet](https://github.com/azure/azure-docs-sdk-dotnet)

## <a name="fork-the-repository"></a>Создание вилки репозитория
Используя соответствующий репозиторий, создайте его вилку в своей учетной записи GitHub на сайте GitHub.

Персональная вилка необходима, так как все основные репозитории с документацией предоставляют только разрешение на чтение. Это значит, что вы не можете напрямую изменять хранящееся в репозитории содержимое. Чтобы внести изменение, вам нужно отправить из вилки в основной репозиторий [запрос на вытягивание](git-github-fundamentals.md#pull-requests). Чтобы ускорить этот процесс, сначала следует создать копию репозитория с доступом на запись. Для этого служит *вилка* GitHub.

1. Перейдите на страницу GitHub основного репозитория, а затем нажмите кнопку **Fork** (Создать вилку) справа вверху.

   ![Пример профиля GitHub](./media/contribute-get-started-setup-local/fork.png)

2. Если будет предложено, выберите плитку своей учетной записи GitHub в качестве расположения для создаваемой вилки. После этого в вашей учетной записи GitHub будет создана копия репозитория, называемая вилкой.

## <a name="choose-a-local-folder"></a>Выбор локальной папки
Создайте локальную папку для локального хранения копии репозитория. Размер некоторых репозиториев может быть значительным, например до 5 ГБ для azure-docs. Выберите расположение с доступным местом на диске.

1. Выберите имя папки — оно должно быть простым для запоминания и ввода. Например, можно использовать корневую папку `C:\docs\` или создать папку в каталоге профиля пользователя `~/Documents/docs/`

   > [!IMPORTANT]
   > Не следует выбирать путь к локальной папке, вложенной в другую папку репозитория Git. Несмотря на то что, что клонированные папки Git можно хранить рядом друг с другом, вложение папок Git приводит к ошибкам отслеживания файлов.

2. Запустите Git Bash

   ![Запустите Git Bash](./media/contribute-get-started-setup-local/gitbash-start.png)

   Расположением по умолчанию, в котором обычно запускается Git Bash, является домашний каталог (~) или `/c/users/<Windows-user-account>/` в ОС Windows.

   Чтобы определить текущий каталог, ведите `pwd` в запросе $. 

3. Преобразуйте каталог (cd) в папку, созданную для локального размещения репозитория. Обратите внимание, что Git Bash поддерживает соглашение Linux по использованию в путях к папкам прямых, а не обратных косых черт.

   Например, `cd /c/docs/ ` или `cd ~/Documents/docs/`.

## <a name="create-a-local-clone"></a>Создание локального клона

С помощью Git Bash подготовьтесь выполнить команду **клонирования** для вытягивания копии репозитории (вашей вилки) в текущий каталог на устройстве. 

### <a name="authenticate-by-using-git-credential-manager"></a>Проверка подлинности с использованием Git Credential Manager
Если вы установили последнюю версию Git для Windows, выполнив стандартную процедуру, Git Credential Manager будет включен по умолчанию. Git Credential Manager упрощает проверку подлинности, избавляя от необходимости отзывать личный маркер доступа при повторной установке подключений с проверкой подлинности и удаленных подключений с GitHub.

1. Выполните команду **клонирования**, указав имя репозитория. Во время клонирования разветвленный репозиторий скачивается (клонируется) на локальный компьютер. 

    > [!Tip]
    > URL-адрес вилки GitHub для команды клонирования можно получить, нажав кнопку **Clone or download** (Клонировать или скачать) в пользовательском интерфейсе GitHub.
    >
    > !["Clone or download" (Клонировать или скачать)](./media/contribute-get-started-setup-local/clone-or-download.png)

    Во время клонирования обязательно укажите путь к *вашей вилке*, а не к основному репозиторию, из которого она была создана. В противном случае вы не сможете вносить изменения. Ссылки на вашу вилку осуществляются по имени вашей личной учетной записи GitHub, например `github.com/<github-username>/<repo>`.

    ```bash
    git clone https://github.com/<github-username>/<repo>.git
    ```

    Команда клонирования должна выглядеть приблизительно следующим образом.

    ```bash
    git clone https://github.com/smithj/azure-docs.git
    ```

2. При появлении запроса введите учетные данные GitHub.

    ![GitHub: вход в систему](./media/contribute-get-started-setup-local/github-login.png)

3. При появлении запроса введите код двухфакторной проверки подлинности.

    ![GitHub: двухфакторная проверка подлинности](./media/contribute-get-started-setup-local/github-2fa.png)

    > [!Note]
    > Ваши учетные данные будут сохранены для проверки подлинности последующих запросов GitHub. Проверка подлинности выполняется на каждом компьютере один раз. 

4. Запущенная команда клонирования скачивает копию файлов репозитория из вашей вилки в новую папку на локальном диске. Новая папка создается в текущей папке. В зависимости от размера репозитория этот процесс может занять несколько минут. По его окончании вы можете открыть папку, чтобы просмотреть ее структуру.

## <a name="configure-remote-upstream"></a>Настройка удаленного вышестоящего подключения
После клонирования репозитория следует установить удаленное подключение только для чтения, называемое **вышестоящим**, к основному репозиторию. С помощью URL-адреса вышестоящего подключения вы сможете обеспечить синхронизацию вашего локального репозитория с последними правками, внесенными другими участниками. Команда **git remote** служит для задания значения конфигурации. С помощью команды **принесения** можно обновить сведения о ветви из вышестоящего репозитория.

1. Если вы используете **Git Credential Manager**, выполните следующие команды. Замените заполнители \<repo\> и \<organization\>.
   ```bash
   cd <repo>
   git remote add upstream https://github.com/<organization>/<repo>.git
   git fetch upstream
   ```

2. Просмотрите настроенные значения и проверьте правильность URL-адресов. Убедитесь, что URL-адреса **исходного подключения** ведут к вашей персональной вилке. Убедитесь, что URL-адреса **вышестоящего подключения** ведут к основному репозиторию, например MicrosoftDocs или Azure. 
   ```bash
   git remote -v 
   ```

   Далее приводится пример выходных данных для подключения к удаленному репозиторию. Здесь вымышленная учетная запись Git с именем MyGitAccount настраивается с личным маркером доступа для обращения к репозиторию azure-docs.
   ```output
   origin  https://github.com/MyGitAccount/azure-docs.git (fetch)
   origin  https://github.com/MyGitAccount/azure-docs.git(push)
   upstream        https://github.com/MicrosoftDocs/azure-docs.git (fetch)
   upstream        https://github.com/MicrosoftDocs/azure-docs.git (push)
   ```

3. Если вы допустили ошибку, значение удаленного подключения можно очистить. Чтобы удалить значение вышестоящего подключения, выполните команду `git remote remove upstream`.

## <a name="next-steps"></a>Дальнейшие действия
- Дополнительные сведения о добавлении и обновлении содержимого см. на странице с описанием [рабочих процессов для участников GitHub](how-to-write-workflows-major.md).